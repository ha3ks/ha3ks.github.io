<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-US"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://ha3ks.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://ha3ks.com/" rel="alternate" type="text/html" hreflang="en-US" /><updated>2026-01-19T19:04:20+00:00</updated><id>https://ha3ks.com/feed.xml</id><title type="html">Ha3ks.com - for nerds</title><subtitle>Ha3ks.com - for nerds</subtitle><author><name>Dan Murray</name><email>hello@ha3ks.com</email></author><entry><title type="html">The New Year</title><link href="https://ha3ks.com/the-new-year" rel="alternate" type="text/html" title="The New Year" /><published>2026-01-19T00:00:00+00:00</published><updated>2026-01-19T00:00:00+00:00</updated><id>https://ha3ks.com/the-new-year</id><content type="html" xml:base="https://ha3ks.com/the-new-year"><![CDATA[<p>So with the last year now behind us, and no it was not an easy one (all things considered), I look forward to the new things that this year brings us‚Ä¶ <em>checks news</em> something something Greenland something something World War 3 probably something something Rising Prices.</p>

<p>Ok so maybe this year is also a bad starting point but, here we are now!</p>

<p>I have wanted to make more blog posts but honestly finding the time has been complex over the last few weeks but I think I have started to find a rythem to work with.</p>

<h1 id="health">Health</h1>

<p>Since last year I have been chipping away at my health, I‚Äôll be 40 (fourty!) this year and as time goes on I can see certain parts of my body failing so I made an active and ongoing decision to focus on health this year.</p>

<p>So far I have worked out every day this year <em>laughs in it‚Äôs the 19th day of the year</em> and my body is holding up quite well, though let me tell you now, kettlebell swings‚Ä¶ at the right mass and speed will, FUCK YOUR LEGS COMPLETELY!!! I had to take it easy yesterday while I got my legs working again. I now know why professional gym goers do certain things on certain days.</p>

<p>With that lesson learned I am working on my ‚Äòworkout times‚Äô and will switch from mornings to evenings.</p>

<h1 id="hacking">Hacking</h1>

<p>Hacking has been slowing down lately, I haven‚Äôt been ‚Äògettin shellz‚Äô on all the newest things but I have been pushing my learning to actively spend a little bit each day learning something new.</p>

<p>In all honesty, it‚Äôs all learn no hack while I start to carve my way through the FortiNet 7.6 (NS4) Administrator course, it‚Äôs free afterall, and as FortiNet keep getting hacked they will ALWAYS need someone to plug things in and configure them (shhhh).</p>

<p>I plan to pick it up as well as NSE 5 ‚Äòsatus‚Äô and maybe a cheeky 6/7 (oh god that damn meme) as it may help with future job/pay prospects, as all do we can only hope üòâ</p>

<h1 id="home">Home</h1>

<p>Things have been going well for the most part, the family is settling into routines and I am getting more and more ‚ÄòDad Card‚Äô stuff done (READ: To Do List).</p>

<p>Today for example, as we are decorating the kitchen (half complete) I patched all the cracks and holes in the walls with some Polyfiller and plan tomorrow to sand it smooth and then the follwing day get that base coat of colour down.</p>

<p>I fully expect this process to require another can of paint but with the base down we can get an idea of what it would look like completed.</p>

<p>I‚Äôve been finding joy in ticking off things; pots, washing, exercise, learn, tablet, read a book.</p>

<p>I almost forgot!</p>

<p>Least year starting in January I dedicated myself to reading, I wanted to actually read books like everyone else seems to be able to do and I think my problem is that, while I have a gigantic wrinkly brain and semi idetic memory‚Ä¶ I can‚Äôt do imagination stuff.</p>

<p>I would love nothing more than to be able to sit with a hot drink and a copy of The Fellowship of the Ring and start devoring the content, but I can‚Äôt.</p>

<p>I have no idea why, it should be easy but it just doesn‚Äôt work‚Ä¶</p>

<p>Now books on a subject or ‚Äòself help/improvement‚Äô that I can absolutely chew through suddenly!</p>

<p>Cathrine tells me that they arn‚Äôt ‚Äòreal books‚Äô and thats ok, they are books for me.</p>

<p>Last year I read 8 books and I am going to list them here so you can see how diverse it is:</p>

<ul>
  <li><a href="https://amzn.eu/d/3g2aK8n">Honed: Finding Your Edge as a Man Over 40</a> - Mike Simpson - Don‚Äôt tell Mike I was 38 reading it, but it helped me!</li>
  <li><a href="">Building a Second Brain: A Proven Method to Organise Your Digital Life and Unlock Your Creative Potential</a> - Tiago Forte - I learned how to ‚Äòtag‚Äô and highlight things with this book‚Ä¶ I went crazy on it, then back to Honed and then applied it to the next book too (but I was better at it)</li>
  <li><a href="https://amzn.eu/d/a14iIos">Don‚Äôt Unplug: How Technology Saved My Life and Can Save Yours Too</a> - Chris Dancy - I tried to read this before via the library and failed, I am glad I came back to this, I love the ‚Äòbig mother‚Äô idea (as oppoed to big brother)</li>
  <li><a href="https://amzn.eu/d/aYtZWa3">Operator Handbook: Red Team + OSINT + Blue Team Reference</a> - Joshua Picolet - I didn‚Äôt realise this was a reference book, so since I spent money on it, I read it!!!</li>
</ul>

<p>ebooks</p>
<ul>
  <li><a href="https://amzn.eu/d/7fI6Rcr">Red Team Development and Operations: A practical guide</a> - Joe Vest, James Tubberville</li>
  <li><a href="https://amzn.eu/d/49AyEhw">Visual Threat Intelligence: An Illustrated Guide For Threat</a> - Thomas Roccia</li>
  <li><a href="https://amzn.eu/d/hqDEOAl">System Failure: Cyberwar on Critical Infrastructure</a> - Chip Harris</li>
  <li><a href="https://amzn.eu/d/9xJQFHP">Identity and Access Management: from Zero to Hero: Learn all you need about Identity and Access Management (IAM) (Identity in Cybersecurity Book 1)</a> - Maria Bryght</li>
</ul>

<p>Ok so it does lean towards the ‚Äòcyber‚Äô bracket but hey, least I am learning!</p>

<p>This year I set myself a side challenge to read more (goes hand in hand with working out and eating healthy). I have already made it through some of my new list/pile - google ‚ÄòPocketBook‚Äô and get an account, download the app and read on your phone. It is actually working for me and it might help you too! Additionally you can dump .epub books in it as well as .pdfs ‚Ä¶</p>

<p>For any curious, I finished - ebook<a href="https://amzn.eu/d/3HGfRjp">The Unfair Advantage: How You Already Have What It Takes to Succeed </a> - Ash Ali &amp; Hasan Kubba AND ALSO my audiobook copy of <a href="https://amzn.eu/d/3CbADm4">Permanent Record: A Memoir of a Reluctant Whistleblower</a> - Edward Snowden all by the 16th.</p>

<p>Turns out a chapter per day is ‚Äòdoable‚Äô and audiobooks are just a ‚Äòwhen doing something‚Äô listening so suprisingly easy to get on with, walking, odd jobs, headphones in and audiobook playing.</p>

<p>Thats two so far and we are 19 days into the year‚Ä¶ my current read is <a href="https://amzn.eu/d/j5ctufD">The Glass Ledge: How to Break Through Self-Sabotage, Embrace Your Power, and Create Your Success</a> - Iman Oubou and the Audiobook version of <a href="https://amzn.eu/d/cSdbb84">12 Rules for Life: An Antidote to Chaos</a> - Jordan B. Peterson ‚Äì fuck it‚Äôs a long one, currently 7 hours left mind.</p>

<p>I have my next ones lined up too so heres to doing adult things, like reading!</p>

<hr />

<p>And that about concludes my update for so far this year. I am hopeful I can add more here but I am actively doing A LOT(!) in the background.</p>

<p>I really want to get the sensory room/office up and running soon so I have a little bit of space to work (and remote work ideally) and restore the living room to being the chill space it should be.</p>

<p>Here‚Äôs to 2026 so far!</p>

<hr />

<p>I don‚Äôt have any sponsors or anything but if you enjoy my work, or feel sympathy for my wife, then I have set up a <a href="https://ko-fi.com/ha3ks">Ko-Fi account</a> as well as a <a href="https://www.buymeacoffee.com/ha3ks">BuyMeACoffee</a> people can donate to.</p>]]></content><author><name>ha3ks</name></author><category term="Blog" /><category term="blog" /><summary type="html"><![CDATA[So with the last year now behind us, and no it was not an easy one (all things considered), I look forward to the new things that this year brings us‚Ä¶ checks news something something Greenland something something World War 3 probably something something Rising Prices.]]></summary></entry><entry><title type="html">On Data Loss</title><link href="https://ha3ks.com/on-data-loss" rel="alternate" type="text/html" title="On Data Loss" /><published>2025-12-05T00:00:00+00:00</published><updated>2025-12-05T00:00:00+00:00</updated><id>https://ha3ks.com/on-data-loss</id><content type="html" xml:base="https://ha3ks.com/on-data-loss"><![CDATA[<p><img src="/assets/blog/On-Data-Loss/1.avif" alt="1" class="align-center" /></p>

<p>I lost data the other day. I‚Äôm pretty bummed out about it. I lost all my entire ‚ÄòDocuments‚Äô folder. Here‚Äôs the worst part‚Ä¶ I truly in my heart of hearts don‚Äôt know how it happened. It‚Äôs one thing to make a mistake, hell I make them ALL the time. But it‚Äôs another to have something bad happen, play it back in your head and not know WHY it happened.</p>

<p>I like to pride myself on having a pretty spotless data loss record. For the last maybe 15 years or a little more I have NEVER lost files. Hellova record.</p>

<p>I am a firm beleiver in the <a href="https://www.veeam.com/blog/321-backup-rule.html">3-2-1 backup method</a>, it‚Äôs well known and well respected, near everyone I have looked up to over the years has used some variant of this method, the gist of which is summed up as ‚Äò3 copies of your data, 2 different types of media (say HDD and cloud) and 1 copy stored elsewhere‚Äô the idea being that if your house burned down tomorrow, you would still have everything you need stored in some other location.</p>

<p>I have thrown away data over the years but I‚Äôm talking linux iso‚Äôs burned to disks that I no longer needed, things like that, infact this was probably 7 years ago that I chucked them as my laptop at the time (and everyone since) hasn‚Äôt had a CD/DVD drive in it <em>yay technology(?)</em></p>

<p>This stung though, I had roughly 46Gb of data in my Documents folder, I initially thought it was 35GB but realised I had a ‚Äòdata management‚Äô day and moved my old blog archives and old posts in there as well.</p>

<p>So OFFICIALLY speaking, this blog and its post‚Äôs are the entirety of the words, stories, knowledge and teaching I have written over the years.</p>

<p>My stomach still hurts just thinking about it.</p>

<p>I actually figured it out, the loss included;</p>

<ul>
  <li>Blog posts</li>
  <li>CTF notes/cheatsheets</li>
  <li>Fully written CTF writeups ready to be released daily for about 4 months (I wrote A LOT)</li>
  <li>Personal documents</li>
  <li>CVs I have made over the years (always have your CV up to date) - Downloaded a backup</li>
  <li>Medical Documents</li>
  <li>Books - Legal ones not torrented stuff</li>
  <li>Business Ideas/Notes/Paperwork/Intellectual Property</li>
  <li>Archives of my old Google Account/Drive</li>
  <li>a BIG folder of stuff to be sorted</li>
  <li>Applications I have developed</li>
  <li>A Journal</li>
  <li>Mods for games I have played over the years</li>
  <li>My ENTIRE PEN200.rar download from Offsec (all the training material for my OSCP attampt) - F**K!!</li>
</ul>

<p>And I think that about covers it‚Ä¶</p>

<p>Honestly it hurts and I don‚Äôt think I‚Äôll get over it anytime soon BUT it is nice to get it off my chest (so to speak).</p>

<p>It was my error, I guess, I just don‚Äôt know how it happened.</p>

<p>Of the things I can speak about‚Ä¶ I was between backup solutions, moving stuff from one provider to another in a futureproofing effort, I was trying to make my life easier going forwards but as it turns out, you copy this, move that and try to put it back (or something) and somehow you have an empty folder copy over the full one and <em>poof</em> it‚Äôs gone.</p>

<h2 id="l√©-sigh">L√© Sigh..</h2>

<p>For the nerds reading this, yes I too am a nerd.</p>

<p>Infact I am the Cheif ‚ÄòHousehold IT Guru‚Äô for our house, and I did try some data recovery solutions.</p>

<p>For people unfamiliar with the deletion process, when you delete an item on your computer is isn‚Äôt actually <em>gone</em> what happens is the link to the item you see in your documents folder or desktop is simply removed, so you no longer ‚Äòsee‚Äô the file and it goes to the recycle bin.</p>

<p>The same thing happens when you empty the recycle bin (to a degree based on overall file size) the link to that file is removed, not the file itself which sits ‚Äòunmapped‚Äô somewhere on your hard drive, so nothing can ‚Äòfind‚Äô it.</p>

<p>As the IT Guru I tried several free and probably malware laiden solutions from websites some would consider ‚Äòhighly sketchy‚Äô. Of the softwares used only 2 had some success finding some of the files and of the two one got the file names and sizes correct, the other recovered some .txt files but they were filled with unintelligble garbage‚Ä¶ lost and shredded it seems.</p>

<p>Again, this hurts, I‚Äôm still wating for Offsec to come back to me on what can be done about my <em>super old</em> training material from 2021 before everything changed and still included the Buffer Overflow stuff - Damn Offsec sure has changed over the years, did you know they now give you creds for the Active Directory set (well low priv and you have to figure out the rest).</p>

<h2 id="moving-forward">Moving forward</h2>

<p>Well it‚Äôs not all doom and gloom, Im happy that I have been able to ‚Äòfind‚Äô some of the things I am missing, Humble Bundle keeps copies of your purchased content so ‚Äòhello‚Äô 1/5th of the books I used to have.</p>

<p>My backup and recovery method works for everything but my documents folder apparently (I laugh about it now but know there are some tears at the corners of my eyes).</p>

<p>I don‚Äôt see something like this ever happening again but I will be double checking files and sizes before anything and <em>hopefully</em> in the future be getting a little NAS set up for me and the family, you would be suprised what kinds of ‚Äòfun things‚Äô you can find on eBay cheap enough.</p>

<p>I don‚Äôt think it‚Äôs likely but if any cool storage providers out there want to reach out and sponsor the ‚ÄòHa3ks HomeLab‚Äô I am completely open, email me! üòÇ</p>

<hr />

<p>I don‚Äôt have any sponsors or anything but if you enjoy my work, or feel sympathy for my wife, then I have set up a <a href="https://ko-fi.com/ha3ks">Ko-Fi account</a> as well as a <a href="https://www.buymeacoffee.com/ha3ks">BuyMeACoffee</a> people can donate to.</p>]]></content><author><name>ha3ks</name></author><category term="Blog" /><category term="blog" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">Kubernetes - from someone who has 12 whole hours experience</title><link href="https://ha3ks.com/kubernetes-from-someone-who-has-12-whole-hours-experience" rel="alternate" type="text/html" title="Kubernetes - from someone who has 12 whole hours experience" /><published>2025-11-01T00:00:00+00:00</published><updated>2025-11-01T00:00:00+00:00</updated><id>https://ha3ks.com/kubernetes-from-someone-who-has-12-whole-hours-experience</id><content type="html" xml:base="https://ha3ks.com/kubernetes-from-someone-who-has-12-whole-hours-experience"><![CDATA[<p>The other day I while having one of my usual mid career crisis‚Äô moments I recalled that I wanted to know more about Kubernetes.</p>

<p><img src="/assets/blog/Kubernetes-12-hours/1.gif" alt="1" class="align-center" /></p>

<p>It‚Äôs a niche topic, companies are paying top dollar for people who know how to use it so I figured I would invest an hour or two of my time nailing down some of the basics.</p>

<p>A slight spoiler for this is I already have ‚Äòsome‚Äô experience with Kubernetes, not much, but I am familiar with some commands and interactions.</p>

<p>So I wrote down short list:</p>

<ul>
  <li>How do I set up a multi node cluster?</li>
  <li>How do I run a web app on Kubernetes?</li>
  <li>Extra Mile: Can I run AI on it?</li>
</ul>

<p>It was at this moment the YouTube algorithm gods pushed me a recommendation and I couldn‚Äôt turn it down.</p>

<div style="text-align: center; margin: 2rem 0;">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/NkM6wQL2UvM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" style="max-width: 100%;"></iframe>
</div>

<p>He was a nurse that pivoted into DevOps and is helping others along the way, awesome.</p>

<p>This video served as a guide on getting a simple web app up and rolling so I figured I would try to replicate it.</p>

<p>‚ÄúBut Dan(?)‚Äù you ask, ‚ÄúYou don‚Äôt has any Raspberry Pi‚Äôs to hand and your laptop has a hardware fault that nukes the OS every few days, how are you going to do that‚Äù</p>

<p>Quickly dear reader.</p>

<p>The answer is, <u>very</u> quickly.</p>

<h2 id="initial-issues-building-vms">Initial issues building VMs</h2>

<p>In the process of trying this the laptop folded in on itself and I lost my VMs‚Ä¶ Trivial, but a setback non the less.</p>

<p>I settled on Ubuntu server as I can happily run it headless (so no GUI) and they can siphon off very little computing power to get rolling.</p>

<p>One thing I did learn when provisioning machines is ‚Äòdont just set them to 1 CPU and 1GB RAM‚Äô right off the bat, otherwise you will run into errors like this:</p>

<hr />

<p><img src="/assets/blog/Kubernetes-12-hours/2.png" class="align-left" /></p>

<p>Yeh, that was my fault.</p>

<p>It took me longer then I am willing to admit, but that was the issue so I gave the VM(s) 2 CPU and 4GB of RAM that I could later tone down but, actually, I just left it and let it roll which seemes to have worked out for the better.</p>

<p>Make sure your ‚ÄòHost‚Äô machine or ‚ÄòHomelab Sever‚Äô is ALWAYS big and beefy - go into debt if you have to. (This is a meme moment, please don‚Äôt go into debt)</p>

<p>Once one machine was up and running and aptly named ‚Äòkb1‚Äô I set up ‚Äòkb2‚Äô and ‚Äòkb3‚Äô making a 3 node cluster.</p>

<h2 id="configuration-of-vms">Configuration of VMs¬†</h2>

<p>Now using my big wrinkly brain and the Youtube video above I was able to configure ‚Äòkb1‚Äô as the controller and then ‚Äòkb2‚Äô and ‚Äòkb3‚Äô would be nodes that connect to ‚Äòkb1‚Äô.</p>

<p>The setup process was suprisingly easy, as per the video (and in this case I am using K3s) go to <a href="https://k3s.io/">k3s.io/</a> and you can run the quickstart that is literally in the banner up top:</p>

<p><img src="/assets/blog/Kubernetes-12-hours/3.png" alt="3" class="align-center" /></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sfL https://get.k3s.io | sh - 
</code></pre></div></div>

<p>This will get your initial controller up and going, if you are a nerd like me and during the setup of Ubuntu server you enabled SSH (but didn‚Äôt add a key because YOLO) you can SSH into your ‚Äòkb1‚Äô and run the command which will install everything. Make sure your hostname on your main controller matches:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dm@kb-01:~$ hostname
kb-01
</code></pre></div></div>

<p>Once one is up and running, getting the others going is relatively straightforwards you just need to check the documentation (quick start guide) for setting up a node;</p>

<p><img src="/assets/blog/Kubernetes-12-hours/4.png" alt="4" class="align-center" /></p>

<p>The command being:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sfL https://get.k3s.io | K3S_URL=https://myserver:6443 K3S_TOKEN=mynodetoken sh -
</code></pre></div></div>

<p>Now there are some important changes, obviously, it is doing the same curl to grab the files from k3s.io BUT it is going to get the configuration file from your local ‚Äòkb1‚Äô (default server port is 6443) as such you need to enter the ip address for that machine as well as grabbing your K3S token from that machine.</p>

<p>Handily the code to output the token file is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cat /var/lib/rancher/k3s/server/node-token
</code></pre></div></div>

<p>In my case the outout was</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dm@kb-01:~$ cat /var/lib/rancher/k3s/server/node-token
K104cc460e12aff973b5a7d17aa85c8e54614093193bafbde946c44aad567b81ea8::server:2228d1bb88e07aa59f637bbd34f1b4a5
</code></pre></div></div>

<p>So, alltogether on each of my nodes you would be running:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -sfL https://get.k3s.io | K3S_URL=https://192.168.4.131:6443 K3S_TOKEN=K104cc460e12aff973b5a7d17aa85c8e54614093193bafbde946c44aad567b81ea8::server:2228d1bb88e07aa59f637bbd34f1b4a5 sh -
</code></pre></div></div>

<p>Which downloads the files from the web, gets the configuration from your local control-pane or master ‚Äòkb1‚Äô and bippity boppity you have 2 nodes connecting to your master.</p>

<p>Now you can ssh into ‚Äòkb1‚Äô again and see them running with the <code class="language-plaintext highlighter-rouge">get nodes</code> command as per below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dm@kb-01:~$ kubectl get nodes
NAME    STATUS   ROLES                  AGE    VERSION
kb-01   Ready    control-plane,master   4d7h   v1.33.5+k3s1
kb-02   Ready    &lt;none&gt;                 4d7h   v1.33.5+k3s1
kb-03   Ready    &lt;none&gt;                 4d7h   v1.33.5+k3s1
</code></pre></div></div>

<p>Now that we have our cluster, we need to put it to work.</p>

<h2 id="a-fist-fight-with-yaml">A Fist Fight with YAML</h2>

<p>For those who don‚Äôt know Kubernetes uses YAML files for its sets of instructions, YAML stands for Yet Another Markup Language.</p>

<p>I would be following the video to the letter to get a nice little web app up and running so I was going to be installing <a href="https://linkding.link/">LinkDing</a></p>

<p>LinkDing is a bookmark manager that you can run on your Self Host and synchronise bookmarks between browsers and devices‚Ä¶ pretty neat.</p>

<p>Accordingly I paused the video and copied the code, word for word‚Ä¶ or so I thought.</p>

<p>I am going to paste my origional note here so you can see what happened:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Namespace</span>
<span class="na">metadata</span><span class="pi">:</span>
 <span class="na">name</span><span class="pi">:</span> <span class="s">linkding</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
 <span class="na">name</span><span class="pi">:</span> <span class="s">linkding</span>
 <span class="na">namespace</span><span class="pi">:</span> <span class="s">linkding</span>
<span class="na">spec</span><span class="pi">:</span>
 <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
 <span class="na">selector</span><span class="pi">:</span>
  <span class="na">matchLabels</span><span class="pi">:</span>
   <span class="na">app</span><span class="pi">:</span> <span class="s">linkding</span>
 <span class="na">template</span><span class="pi">:</span>
  <span class="na">metadata</span><span class="pi">:</span>
   <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">linkding</span>
  <span class="na">spec</span><span class="pi">:</span>
   <span class="na">contaiters</span><span class="pi">:</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">linkding</span>
     <span class="na">image</span><span class="pi">:</span> <span class="s">sissbruecker/linkding:1.44.1</span>
     <span class="na">ports</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">9090</span>
</code></pre></div></div>

<p>Yeh, you can see it can‚Äôt you, damn experts‚Ä¶</p>

<p>When runing the code initially I was met with a confusing amount of various errors:</p>

<ul>
  <li>‚ÄúUnknown field in spec.template.spec.contaiters‚Äù</li>
  <li>‚Äúerror converting YAML to JSON: YAML: line blah blah blah‚Äù</li>
  <li>‚ÄúMapping values not allowed in this context‚Äù</li>
</ul>

<p>I made subtle tweaks and changes to the code, resulting in different errors, many visits to Stack Overflow, Google and other search engines with half baked in AI.</p>

<p>I elected to not actually use AI in this project, partly due to the challenge of actually debugging and fixing the problem and partly because, if you havent noticed YOU are the training data that AI is using, everything you enter is recorded and logged and never deleted unless you take the time to jump through the hoops and actually find the option to permanently remove your data‚Ä¶ Dont make the ‚Äòsystems‚Äô job easier by feeding it everything about you and what you want.</p>

<p>If I had the cash and the ability I would absolutely do a PewDiePie and set up a Self Host and do it all locally:</p>

<div style="text-align: center; margin: 2rem 0;">
  <iframe width="560" height="315" src="https://www.youtube.com/embed/qw4fDU18RcU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="" style="max-width: 100%;"></iframe>
</div>

<p>Lo, I am not rich and My laptop dies often as we all know so back to it</p>

<h2 id="flipping-the-table">Flipping the table</h2>

<p>After a few hours, like literally two hours, I decided to give up for now, I had done everything I can think of to get this thing up and running and it just was not budging, I had even used an online YAML checker as part of debugging which is why the error kept changing and that was coming back green saying ‚Äòyeh this is valid YAML my dude‚Äô so I decided to power off the cluster. Gather my thoughts on my notepad and take a break.</p>

<p>I had planned to do something that day and ended up getting it hammered out, watched some TV and played some games as a distraction.</p>

<p>Honestly that Game Pass Ultimate at ¬£14.99 a month is a god send, though now it‚Äôs going to be ¬£22.99 a month I really have to decide if it‚Äôs worth keeping or not, probably will mind.</p>

<h2 id="coming-back-fresh-head">Coming back fresh head</h2>

<p>After the rest of that day of ‚Äòrelaxing‚Äô I thought it might be fun to play on the laptop a moment, so I opened up ‚Äòol faithful and staring at me was the notepad‚Ä¶</p>

<p>There is was, staring me in the face like the end of ‚ÄòThe Usual Suspects‚Äô:</p>

<hr />

<p><img src="/assets/blog/Kubernetes-12-hours/kekuausualsuspects.gif" class="align-right" /></p>

<p>A SPELLING MISTAKE</p>

<p>A SPELLING MISTAKE COST ME 3 HOURS OF DEBUGGING</p>

<p>The Rage at myself, and spellcheck, was able to be measured in that moment</p>

<p>Gah!</p>

<hr />

<p>So, presenting the correct dep.yaml I made:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Namespace</span>
<span class="na">metadata</span><span class="pi">:</span>
 <span class="na">name</span><span class="pi">:</span> <span class="s">linkding</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
 <span class="na">name</span><span class="pi">:</span> <span class="s">linkding</span>
 <span class="na">namespace</span><span class="pi">:</span> <span class="s">linkding</span>
<span class="na">spec</span><span class="pi">:</span>
 <span class="na">replicas</span><span class="pi">:</span> <span class="m">1</span>
 <span class="na">selector</span><span class="pi">:</span>
  <span class="na">matchLabels</span><span class="pi">:</span>
   <span class="na">app</span><span class="pi">:</span> <span class="s">linkding</span>
 <span class="na">template</span><span class="pi">:</span>
  <span class="na">metadata</span><span class="pi">:</span>
   <span class="na">labels</span><span class="pi">:</span>
    <span class="na">app</span><span class="pi">:</span> <span class="s">linkding</span>
  <span class="na">spec</span><span class="pi">:</span>
   <span class="na">containers</span><span class="pi">:</span> <span class="c1"># Yes the edit was here...</span>
   <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">linkding</span>
     <span class="na">image</span><span class="pi">:</span> <span class="s">sissbruecker/linkding:1.44.1</span>
     <span class="na">ports</span><span class="pi">:</span>
     <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">9090</span>
</code></pre></div></div>

<p>Then I ran <code class="language-plaintext highlighter-rouge">sudo kubectl apply -f dep.yaml</code> which would install and configure the app based on the yaml input..</p>

<p>Build complete..</p>

<p>It actaully did it!</p>

<p>Happy Dance moment if you please!</p>

<p>Now not to get too carried away you can check and make sure it is running by entering:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dm@kb-01:~$ kubectl get pods
No resources found in default namespace.
</code></pre></div></div>

<p>Shit.</p>

<p>It was at this moment that my debugging came back to mind, search for the answer and you WILL find it, lo and behold I can add <code class="language-plaintext highlighter-rouge">--all-namespace</code> and see everything running:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dm@kb-01:~$ kubectl get pods --all-namespaces
NAMESPACE     NAME                                      READY   STATUS      RESTARTS      AGE
kube-system   coredns-64fd4b4794-zf2dp                  1/1     Running     2 (41m ago)   4d8h
kube-system   helm-install-traefik-4jxdl                0/1     Completed   2             4d8h
kube-system   helm-install-traefik-crd-fqfr7            0/1     Completed   0             4d8h
kube-system   local-path-provisioner-774c6665dc-qk9kl   1/1     Running     2 (41m ago)   4d8h
kube-system   metrics-server-7bfffcd44-pd2rs            1/1     Running     2 (41m ago)   4d8h
kube-system   svclb-traefik-c8216a6a-29ntq              2/2     Running     4 (41m ago)   4d8h
kube-system   svclb-traefik-c8216a6a-8ttrg              2/2     Running     4 (39m ago)   4d8h
kube-system   svclb-traefik-c8216a6a-xggvm              2/2     Running     4 (40m ago)   4d8h
kube-system   traefik-c98fdf6fb-gtv4k                   1/1     Running     2 (41m ago)   4d8h
linkding      linkding-7d4c6f6dbb-nrk9c                 1/1     Running     1 (39m ago)   3d19h
</code></pre></div></div>

<p>Ah that‚Äôs better and look linkding is up and rolling, now we‚Äôre cooking on gas.</p>

<p>Now remember that name <code class="language-plaintext highlighter-rouge">linkding-7d4c6f6dbb-nrk9c</code> because we are going to need that.</p>

<h2 id="port-fowarding">Port Fowarding</h2>

<p>Now we have a working and live webapp running, we need to be able to access it, turns out you can‚Äôt just type in the IP address to your browser and it will suddenly take you there, you need to set up a portforward so you can log into it and access it.</p>

<p>This process is relatively straight forward if you have a basic understanding of port forwarding so I will drop the commend I used:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl port-forward pod/linkding-7d4c6f6dbb-nrk9c 9090:9090
</code></pre></div></div>
<p>So we are telling Kubectl (control) to set up a port forward of this particular app or pod and the name of it to a certain port we can access in this case 9090.</p>

<p>Running it gives little in the way of output as it is in a ‚Äòrunning‚Äô state, but when you try browsing to it then it will start to fill with logging:</p>

<p><img src="/assets/blog/Kubernetes-12-hours/5.png" alt="5" class="align-center" /></p>

<p>And just like that, we have a successful self host!</p>

<p>I have had some time to play with this and generally, I love it.</p>

<p>I can‚Äôt wait for future me to have money so that I can invest in some Self Host Loving and get a little server up and running with our Plex needs, networking labs, pentesting labs, Kubernetes Clusters and other things.</p>

<p><img src="/assets/blog/Kubernetes-12-hours/6.GIF" class="align-right" width="450" height="315" /></p>

<p>Honestly I would be happy with 3 Raspberry Pis and a simple NAS, I can assure you I would have headroom have network wide Ad Blocking and be able to entertain my family.</p>

<p>If you haven‚Äôt considered it before.. look into it. If my haggared laptop can survive long enough to not only do this lab but also survive the write up, you can do it too and learn something.</p>

<p>I didn‚Äôt quite get to scratch that Ai ‚Äòextra mile‚Äô off the list, but it is on the cards. It‚Äôs nice to have ‚Äòproject work‚Äô in the background, I also have some certs to be studying for.. will see what happens with them.</p>

<p>Be safe all and I‚Äôll see you in the next post.</p>

<p>ü§ô</p>

<hr />

<p>I don‚Äôt have any sponsors or anything but if you enjoy my work, or feel sympathy for my wife, then I have set up a <a href="https://ko-fi.com/ha3ks">Ko-Fi account</a> as well as a <a href="https://www.buymeacoffee.com/ha3ks">BuyMeACoffee</a> people can donate to.</p>]]></content><author><name>ha3ks</name></author><category term="Blog" /><category term="blog" /><category term="Kubernetes" /><category term="DevOps" /><summary type="html"><![CDATA[The other day I while having one of my usual mid career crisis‚Äô moments I recalled that I wanted to know more about Kubernetes.]]></summary></entry><entry><title type="html">Running a FortiGate in VMWare</title><link href="https://ha3ks.com/running-a-fortigate-in-vmware" rel="alternate" type="text/html" title="Running a FortiGate in VMWare" /><published>2025-08-29T00:00:00+00:00</published><updated>2025-08-29T00:00:00+00:00</updated><id>https://ha3ks.com/running-a-fortigate-in-vmware</id><content type="html" xml:base="https://ha3ks.com/running-a-fortigate-in-vmware"><![CDATA[<p>It has been some considerable time since I last put up a blog post, I just wanted to go in a different direction for a while, it happens.</p>

<p>The direction has been confusing and has me wondering what my next steps will be‚Ä¶</p>

<p>I love security don‚Äôt get me wrong, it‚Äôs the most fun you can have on a computer when you are a nerd and a gamer, but I feel a pull in another direction and as such I want to put up some helpful posts every now and again for people that might want to play with something new.</p>

<p>Recently I undertook some free training from Fortinet‚Ä¶ you know that company that constantly has exploits and news cycles, that one.</p>

<p>I felt a little bad about it but as time has gone on I can kinda see where the problem might be and as such my ‚ÄòI can help‚Äô voice took over for a bit‚Ä¶</p>

<p><img src="/assets/blog/FortiVM/1.png" alt="1" class="align-center" /></p>

<p>See.. crazy I know.</p>

<p>So in the last week I‚Äôve broadened my horizons and learned about AI and Agentic Systems as well as an ‚Äòass load‚Äô of Fortinet Cybersecurity content.</p>

<p>From the latter I wanted to share setting up a Fortigate locally on your machine (Via VMware) so you too can have a play and a poke with it, some features are unavailable however you can set things up and run some stuff through it to see what kinds of fun things you can log and track.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>To install a Fortigate Firewall on VMware Workstation you will first need to register for an Fortinet Support Account so you access the downloads section - <a href="https://support.fortinet.com/Download/VMImages.aspx">https://support.fortinet.com/Download/VMImages.aspx</a>.</p>

<p>Once logged in click on Download &gt; VM Images, Select Product: FortiGate and Select Platform: VMware ESXi and download the Latest Version (7.6.4).</p>

<p>Be sure to click Download under the ‚ÄòNew deployment of FortiFirewall for VMware FFW_VM64-v7.6.4.F-build3596-FORTINET.out.ovf.zip (111.94 MB)‚Äô if this is a new installation or VM, if you already have it installed you can grab the one titled ‚ÄòUpgrade from previous version of FortiFirewall for VMWare FFW_VM64-v7.6.4.F-build3596-FORTINET.out (112.43 MB)‚Äô:</p>

<p><img src="/assets/blog/FortiVM/2.png" alt="2" class="align-center" /></p>

<p>Once downloaded you can extract out the files by right clicking and ‚ÄòExtract All‚Äô and let it dump out to your download folder:</p>

<p><img src="/assets/blog/FortiVM/3.png" alt="3" class="align-center" /></p>

<h2 id="installation">Installation</h2>

<p>Now you have done that open VMWare Workstation and select ‚ÄòOpen a Virtual Machine‚Äô:</p>

<p><img src="/assets/blog/FortiVM/4.png" alt="4" class="align-center" /></p>

<p>Select your ‚Äòmain‚Äô file:</p>

<p><img src="/assets/blog/FortiVM/5.png" alt="5" class="align-center" /></p>

<p>And you‚Äôllm need to accept the EULA:</p>

<p><img src="/assets/blog/FortiVM/6.png" alt="6" class="align-center" /></p>

<p>After hitting Next you will get the option to give the VM a name and where it will be stored (I keep everything in a ‚ÄòVirtual Machines‚Äô local folder):</p>

<p><img src="/assets/blog/FortiVM/7.png" alt="7" class="align-center" /></p>

<p>Now some guides will have you change the initial ‚ÄòNetwork Adapter‚Äô to NAT, run the VM, log into it and then reset it and do it all over again on round2 because of how the VM licence works.</p>

<p>I tried this and completely shafted the install so instead go to the Edit Virtual Machine Settings and under Options, make sure VMware Tools Time Sync, is set to sync with host:</p>

<p><img src="/assets/blog/FortiVM/14.png" alt="14" class="align-center" /></p>

<p>And save it, then boot it up!</p>

<p>It will run its initial auto config, repartition the disk drive etc etc and eventually spit you out at the login screen.</p>

<p>The username is admin, the password is blank‚Ä¶ super secure‚Ä¶ though when you do log in it asks you to set up a new admin password üòâ</p>

<p><img src="/assets/blog/FortiVM/8.png" alt="8" class="align-center" /></p>

<h2 id="configuration">Configuration</h2>

<p>Once logged in you can start to do some initial setup, to get this working the following is what I entered:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>get system status  <span class="c">#Displays a ton of information about the current state of the device</span>
</code></pre></div></div>
<p><img src="/assets/blog/FortiVM/9.png" alt="9" class="align-center" /></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>show system interface  <span class="c">#Displays the interfaces (ports and access) of the device</span>
</code></pre></div></div>
<p><img src="/assets/blog/FortiVM/10.png" alt="10" class="align-center" /></p>

<p>We need to configure the port and then the default gateway so we can access the device so run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config system interface

edit port1

<span class="nb">set </span>mode static 

<span class="nb">set </span>ip <span class="o">(</span>your desired IP <span class="k">in </span>my <span class="k">case</span> it was 192.168.4.200<span class="p">)</span> 255.255.255.0

<span class="nb">set </span>allowaccess https http ping ssh

end

config router static

edit 1

<span class="nb">set </span>device port1

<span class="nb">set </span>gateway <span class="o">(</span>your desired IP <span class="k">in </span>my <span class="k">case</span> it was 192.168.4.199 as 200 was taken<span class="p">)</span>

next

end
</code></pre></div></div>

<p>That will configure the port and gateway so we can log into the router via the web.</p>

<p>The next thing I had an issue with was getting the licence, kept throwing up DNS errors so while we are here, lets configure the DNS:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config system dns

<span class="nb">set </span>primary 8.8.8.8

<span class="nb">set </span>secondary 8.8.4.4

end
</code></pre></div></div>

<p>Now to be safe you can reboot the device from the VMware menu up top:</p>

<p><img src="/assets/blog/FortiVM/11.png" alt="11" class="align-center" /></p>

<p>Once rebooted we can try to log in via the web interface with the admin username and password you have created:</p>

<p><img src="/assets/blog/FortiVM/12.png" alt="12" class="align-center" /></p>

<p>Now when you log in you are presented with a setup screen which may also warn that you need a valid licence to use the software, not to worry you can get a free perpetual licence for use from fortigate:</p>

<p><img src="/assets/blog/FortiVM/13.png" alt="13" class="align-center" /></p>

<p>Once ‚Äòactivated‚Äô you should be brought to the ‚Äòmain menu‚Äô, the Dashboard of the Fortigate, if not it may take you through a quick little setup side mission but you can skip that part for now.</p>

<h2 id="success">Success</h2>

<p>Behold! Your Dashboard:</p>

<p><img src="/assets/blog/FortiVM/15.png" alt="15" class="align-center" /></p>

<p>And that it! Following on from this you can follow along with your training to play around with most parts and sections, again some locked off as its only a perm evaluation licence, but still enough to play around to try new things.</p>

<p>Good luck.</p>

<p>Peace</p>

<p>ü§ô</p>

<hr />

<p>I don‚Äôt have any sponsors or anything but if you enjoy my work, or feel sympathy for my wife, then I have set up a <a href="https://ko-fi.com/ha3ks">Ko-Fi account</a> as well as a <a href="https://www.buymeacoffee.com/ha3ks">BuyMeACoffee</a> people can donate to.</p>]]></content><author><name>ha3ks</name></author><category term="Blog" /><category term="blog" /><category term="VMWare" /><category term="Fortigate" /><summary type="html"><![CDATA[It has been some considerable time since I last put up a blog post, I just wanted to go in a different direction for a while, it happens.]]></summary></entry><entry><title type="html">Building a PBX system</title><link href="https://ha3ks.com/building-an-pbx-system" rel="alternate" type="text/html" title="Building a PBX system" /><published>2025-07-12T00:00:00+00:00</published><updated>2025-07-12T00:00:00+00:00</updated><id>https://ha3ks.com/building-an-pbx-system</id><content type="html" xml:base="https://ha3ks.com/building-an-pbx-system"><![CDATA[<p>As a part of my new job I was asked to pickup Asterisk to build a working PBX system (which would then later get a securty and privacy overhawl).</p>

<p>As I have some experience with this working in various ISPs over the years, I set about getting started.</p>

<p>I know ‚Äòmost‚Äô people would want to build this in the cloud but being a ‚Äòpenniless nobody‚Äô I set about building this locally which would later lead to some hilarious testing shenannigans, cloud can always come once a solid base and understading has been established.</p>

<h2 id="prerequisites">Prerequisites</h2>

<p>I knew going into this I would need somekind of server running as well as a client, I figure my machine local can be the client as I can install software like <a href="https://www.microsip.org/">MicroSIP</a> to dial out and as such I decided to grab a copy of Ubuntu Server because it‚Äôs what I am most familiar with.</p>

<p>A quick and dirty 2 core / 4GB / 24GB server build later and I can SSH into it from my local machine (so set the VM going and minimise/forget about it till done).</p>

<p><img src="/assets/blog/PBX/ssh.png" alt="SSH" class="align-center" /></p>

<p>Now that the connecting part is out of the way I set about reading the <a href="https://docs.asterisk.org/">Asterisk Documentation</a> and getting the server updated a-la:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt update
apt upgrade
</code></pre></div></div>

<h2 id="installation">Installation</h2>

<p>Moving on to the installation of Asterisk, this is actually pretty straightforward and I am borrowing the commands (but updated) from <a href="https://hotkey404.com/installing-asterisk-20-from-source-on-ubuntu-23-10/">hotkey404.com</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /usr/src
wget http://downloads.asterisk.org/pub/telephony/asterisk/asterisk-22-current.tar.gz
tar zxvf asterisk-20-current.tar.gz
rm -rf asterisk-20-current.tar.gz
</code></pre></div></div>

<p>To walk though this you are navigating to /usr/src, downloading the latest version of asterisk (at time of creation 22) and then untarring it (unzipping it) and then removing the downloaded .tar.qz (zip) archive.</p>

<p>Then we move onto actually installing Asterisk, to do so you need to install some prerequisits first:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>contrib/scripts/install_prereq install
</code></pre></div></div>

<p>And then run your configuration (you can edit this beforehand however I went completely stock which means running everything as defaults and crossing your fingers).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./configure
</code></pre></div></div>

<p>Now if that finger crossing worked you will have successfully installed Asterisk if you see something similar to this screen:</p>

<p><img src="/assets/blog/PBX/config.png" alt="config" class="align-center" /></p>

<p>(Yes it is named differently, I killed the first server from this image by accident but forgot to grab a new picture for the 2nd server).</p>

<p>The next thing you will want to install is a firewall, beleive me they are important and for the purposes of my testing we are using IPTables which is a simple Linux Firewall and again guide parts borrowed from <a href="https://dev.to/ekim34351855/asterisk-basic-set-up-4ple">dev.to</a> and <a href="https://www.voip-info.org/asterisk-firewall-rules/">voip-info</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apt install iptables
</code></pre></div></div>

<p>You will want to also make sure that you add these specific entries into it to allow asterisk to ‚Äòwork‚Äô properly (and yes you can really knuckle down this firewalla and allow or disallow exactly what you want).</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>iptables -A INPUT -p udp -m udp --dport 5060 -j ACCEPT
iptables -A INPUT -p udp -m udp --dport 4569 -j ACCEPT
iptables -A INPUT -p udp -m udp --dport 5036 -j ACCEPT
iptables -A INPUT -p udp -m udp --dport 10000:20000 -j ACCEPT
iptables -A INPUT -p udp -m udp --dport 2727 -j ACCEPT
</code></pre></div></div>

<p>Now this is out of the way (and configured the firewall already) lets move onto the ‚Äòconfiguration‚Äô of Asterisk</p>

<h2 id="configuration">Configuration</h2>

<p>Now that we have made it past installing Asterisk and running the initial config, we can run the installer and select additional options, functionality, the codecs and applications (if any)</p>

<p>Accordingly we can run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make menuselect
</code></pre></div></div>

<p>This will display the Asterisk Module and Build Option Selection menu:</p>

<p><img src="/assets/blog/PBX/menu.png" alt="menu" class="align-center" /></p>

<p>As you can see here I have selected the format_mp3 option which will (once installed) save calls to the MP3 format.</p>

<p>This was actually the only thing I changed here so if you tab to save and exit at the bottom it will save the changes you made.</p>

<p>Now we need to run make and get building:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div>

<p>This will take some time to run so do not worry if it is taking a while, once it completes and returns you to the directory you need to run get_mp3_source.sh script located in the contrib/scripts directory. It will download MP3 sources and the necessary libraries to support the MP3 format. It works as follows:</p>

<p>LAME sources: The script downloads the sources of the LAME utility, which is used to encode and decode MP3 audio files.</p>

<p>Download MAD Sources: MAD (MPEG Audio Decoder) is a library used to decode MP3 files. The script downloads MAD sources.</p>

<p>Source Compilation: After downloading the LAME and MAD sources, the script compiles these libraries.</p>

<p>Library installation: Once compiled, the script installs the libraries on the system. This allows Asterisk to use these libraries when handling MP3 audio files.</p>

<p>MP3 is a copyrighted format, so sources and libraries for its support are not provided with Asterisk.</p>

<p>You can run it with the following snip of code:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>contrib/scripts/get_mp3_source.sh
</code></pre></div></div>

<p>Once complete we can run make install and get this party going:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make install
</code></pre></div></div>

<p>Once complete you will see a screen similar to this:</p>

<p><img src="/assets/blog/PBX/complete.png" alt="complete" class="align-center" /></p>

<p>Now onto the fun part:</p>

<h2 id="testing">Testing</h2>

<p>This section had me in stitches trying to figure out how to call from one SIP to another.</p>

<p>Handily man created virtual machines and I rememebered I have one floating about.</p>

<p>Now an interesting thing to point out here is that since we did a complete base install of Asterisk with no changes we have some stock credentials stored in it.</p>

<p>These are what we will use to log into the SIP system and also call eachother for testing purposes.</p>

<p>To access this (as well as starting the services in a moment) we need to navigate to the Asterisk directory:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /etc/asterisk
</code></pre></div></div>

<p>Once here we can open the pjsip.conf and view the details, alternatively if you were an Administrator for the system you would go in here to change add or remove users from the system.</p>

<p><img src="/assets/blog/PBX/pjsip.png" alt="pjsip" class="align-center" /></p>

<p>See lots of details for made up people.</p>

<p>So now let‚Äôs get Asterisk switched on and working for us.</p>

<p>The following commmands need to be ran one time to get things up and running and then again when you make changes:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>asterisk -r      ## go to the CLI of Asterisk (command line interface where you will run the following commmands)

core reload      ## reload pjsip and modules
dialplan reload      ## reload dialplan
pjsip show endpoints      ## showis the endpoints you have (if multiple)

</code></pre></div></div>

<p>There are also some simple commands to remember when interacting Asterisk (and yes to can auto on/off etc but that‚Äôs for another day)</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl start asterisk      ## Starts Asterisk
systemctl status asterisk      ## Checks Asterisk Status
systemctl stop asterisk      ## Stops Asterisk

</code></pre></div></div>

<p>So run that Start Asterisk and now with things up and running let‚Äôs log into MicroSIP and get working.</p>

<p>The following details were used:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>192.168.84.136 - Server IP
username: 1108 - Caller ID
domain: 192.168.84.136 - Server IP (again)
login: DB589C0875AB - User Login for 1100 
Password: KAthufrudE6uyAs - Password for 1100
</code></pre></div></div>

<p>Entering these into MicroSIP under ‚Äòadd user‚Äô</p>

<p><img src="/assets/blog/PBX/microsip.png" alt="microsip" class="align-center" /></p>

<p>And Voilla, logged in and registered:</p>

<p><img src="/assets/blog/PBX/sipped.png" alt="sipped" class="align-center" /></p>

<p>Now I had to try calling from one to the other so here is an example video I got when playing around with a VM:</p>

<p><img src="https://i.ytimg.com/vi/oF9PQQD4NWc/hqdefault.jpg?sqp=-oaymwFBCNACELwBSFryq4qpAzMIARUAAIhCGAHYAQHiAQoIGBACGAY4AUAB8AEB-AH-CYAC0AWKAgwIABABGDQgZSgUMA8=&amp;rs=AOn4CLAJESlW_AIF_7NHYL2G8bYb1IRzzg" alt="Youtube Upload" class="align-center" /></p>

<p>(Aww you can see my notes in the background too lol)</p>

<p>All in all a very fun learning experience, took me back to watching the call queues during a large outage at a place I worked once.</p>

<p>There were 3 Trunk queues and as things took off and I saw 200 in each queue I bust out my phone and shot a quick video of them all hitting 300, 350, 400, 499 and boom the system went down.</p>

<p>Absolutely nothing got done for the rest of that day.</p>

<p>Be safe all, working on some things in the background, may have some networking and cloud certs to be hammering thorough soon but I want to be able to share parts of that journey too.</p>

<p>Peace</p>

<p>ü§ô</p>

<hr />

<p>I don‚Äôt have any sponsors or anything but if you enjoy my work, or feel sympathy for my wife, then I have set up a <a href="https://ko-fi.com/ha3ks">Ko-Fi account</a> as well as a <a href="https://www.buymeacoffee.com/ha3ks">BuyMeACoffee</a> people can donate to.</p>]]></content><author><name>ha3ks</name></author><category term="Blog" /><category term="blog" /><category term="pbx" /><category term="telecommunications" /><summary type="html"><![CDATA[As a part of my new job I was asked to pickup Asterisk to build a working PBX system (which would then later get a securty and privacy overhawl).]]></summary></entry></feed>